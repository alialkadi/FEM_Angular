<div class="service-explorer-container">
    <div class="level category-level">
        <h2>Categories</h2>
        <div class="scroll-row">
            <div class="item-card" *ngFor="let cat of categories" (click)="selectCategory(cat)"> {{ cat.name }} </div>
        </div>
    </div>
    <div class="level type-level" *ngIf="selectedCategory">
        <h2>Types</h2>
        <div class="scroll-row">
            <div class="item-card" *ngFor="let type of types" (click)="selectType(type)">
                <div class="card-image" style="max-width:200px ; width: 100%;height: 200px;"><img
                        style="width: 100%; height: 100%;" src="{{type.fileUrl}}"></div>
                <div>{{ type.name }} </div>
            </div>
        </div>
    </div>
    <div class="level structure-level" *ngIf="selectedType">
        <h2>Structures</h2>
        <div class="scroll-row">
            <div class="item-card" *ngFor="let structure of structures" (click)="selectStructure(structure)"> {{
                structure.name }} </div>
        </div>
    </div>
    <div class="level part-level" *ngIf="selectedStructure">
        <h2>Parts</h2>
        <div class="scroll-row">
            <div class="item-card" *ngFor="let part of parts" (click)="selectPart(part)"> {{ part.name }} </div>
        </div>
    </div>
    <div class="level partoption-level" *ngIf="selectedPart">
        <h2>Part Options</h2>
        <div class="scroll-row">
            <div class="item-card" *ngFor="let option of partOptions" (click)="selectPartOption(option)"> {{ option.name
                }} </div>
        </div>
    </div>
    <div class="level service-level" *ngIf="services.length > 0">
        <h2>Available Services</h2>
        <div class="scroll-row">
            <div class="item-card service-card" *ngFor="let s of services" (click)="toggleService(s)">
                <div>{{ s.name }}</div>
                <div class="cost">{{ s.baseCost | currency }}</div>
                <div *ngIf="isSelected(s)" class="selected-badge">âœ”</div>
            </div>
        </div>
    </div>
    <div class="total-cost-bar" *ngIf="selectedServices.length > 0">
        <h3>Total: {{ totalCost | currency }}</h3>
    </div>
</div>